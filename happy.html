<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Happy</title>
    <style>
        body {
            background-color: #FF379B;
            overflow: hidden;
        }

        body,
        html {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
        }

        .container {
            position: absolute;
            max-width: 100%;
            height: 600px;
        }

        svg {
            max-width: 100%;
            visibility: hidden;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In  -->
        <svg class="mainSVG" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" x="0px" y="0px" width="600px" height="600px"
            viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
            <defs>
            </defs>

            <path id="face" fill="none" stroke="#EDEDED" stroke-width="10" stroke-linecap="round"
                stroke-linejoin="round" stroke-miterlimit="10"
                d="M381,262c0,44.7-36.3,81-81,81s-81-36.3-81-81s36.3-81,81-81S381,217.3,381,262z" />
            <path id="happy" fill="none" stroke="#ededed" stroke-width="10" stroke-linecap="round"
                stroke-linejoin="round" stroke-miterlimit="10"
                d="M341.4,291.4C330.3,303,316.1,310,300.6,310c-16.1,0-30.7-7.5-42-19.9" />
            <g id="eyeGroup" stroke="#ededed">
                <ellipse fill="none" stroke-width="8.7559" stroke-linecap="round" stroke-linejoin="round"
                    stroke-miterlimit="10" cx="278.5" cy="234" rx="11.5" ry="15" />
                <ellipse fill="none" stroke-width="8.7559" stroke-linecap="round" stroke-linejoin="round"
                    stroke-miterlimit="10" cx="321.5" cy="234" rx="11.5" ry="15" />
            </g>
            <path id="sad" fill="none" stroke="none" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"
                stroke-miterlimit="10" d="M341.4,308.7c-11.1-11.6-25.3-18.6-40.8-18.6c-16.1,0-30.7,7.5-42,19.9" />
            <path id="square" fill="none" stroke="none" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"
                stroke-miterlimit="10" d="M383,347H217V181h166V347z" />
        </svg>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/MorphSVGPlugin.min.js"></script>

    <script>
        var select = function (s) {
                return document.querySelector(s);
            },
            container = select('.container'),
            mainSVG = select('.mainSVG');

        // Center the container
        gsap.set(container, {
            position: 'absolute',
            top: '50%',
            left: '50%',
            xPercent: -50,
            yPercent: -50
        });

        gsap.set('svg', {
            visibility: 'visible'
        });

        var faceTl = gsap.timeline({ paused: true });
        faceTl.to('#face', {
            duration: 1,
            morphSVG: { shape: '#square' },
            ease: 'elastic.inOut'
        })
            .to('#happy', {
                duration: 1,
                morphSVG: { shape: '#sad' },
                y: 10,
                ease: 'elastic.inOut'
            }, '-=1')
            .to('#eyeGroup', {
                duration: 1,
                y: 10,
                ease: 'elastic.inOut'
            }, '-=1')
            .to(document.body, {
                duration: 1,
                backgroundColor: '#1d1d1d',
                ease: 'power2.inOut'
            }, '-=1');

        mainSVG.addEventListener('click', function () {
            if (faceTl.reversed()) {
                faceTl.play();
            } else {
                faceTl.reverse();
            }
        });
    </script>
</body>

</html>
